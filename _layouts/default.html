<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" />

    <title>{% if page.title %}{{ page.title | escape }}{% if page.eventName %} &mdash; {{ page.eventName }}{% endif %} &mdash; {{ site.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
    <meta name="description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}" />
    <style>{% capture include_to_scssify %}{% include main.scss %}{% endcapture %}{{ include_to_scssify | scssify }}</style>
    <link rel="canonical" href="{{ page.url | replace:'/index.html','' | absolute_url }}" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.title | escape }}" href="{{ "/feed.xml" | relative_url }}" />

    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="{{site.title|escape}}" />
    <meta property="og:title" content="{{page.title}}"/>
    <meta property="fb:admins" content="janoszen" />
    <meta property="fb:app_id" content="1916868571905927" />
    <meta property="og:image" content="{{ page.fbimage | default: "/assets/img/social-share-default.png" | absolute_url }}" />
    <meta property="og:url" content="{{ page.url | replace:'/index.html','' | absolute_url }}" />
    <meta property="og:description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}" />
    {% if page.categories %}
      <meta property="og:type" content="article" />
      <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}"/>
      <meta property="article:author" content="https://facebook.com/janoszen"/>
      <meta property="article:publisher" content="https://facebook.com/opsbears"/>
      <meta property="article:tag" content="{{ page.categories | sort | join: ', ' }}"/>
    {% else %}
      <meta property="og:type" content="website" />
    {% endif %}
    <link rel="apple-touch-icon-precomposed" href="{{ "/assets/avatar.jpg" | absolute_url }}" />
    <link rel="icon" href="{% base64 /assets/avatar-32.png %}" />
    <meta name="twitter:card" content="{{ page.twitter_card | default: "summary_large_image" }}" />
    <meta name="twitter:description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}" />
    <meta name="twitter:site" content="@janoszen" />
    <meta name="twitter:title" content="{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}" />
    <meta name="twitter:image" content="{{ page.twitterimage | default: "/assets/img/social-share-default.png" | absolute_url }}" />

    <meta name="skype_toolbar" content="skype_toolbar_parser_compatible" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="application-name" content="Janos Pasztor" />
    <meta name="msapplication-starturl" content="/" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="theme-color" content="#f5f5f5" />
    <meta name="msapplication-navbutton-color" content="#f5f5f5" />
    <meta name="msapplication-TileColor" content="#f5f5f5" />
    <meta name="msapplication-TileImage" content="{{ "/assets/avatar.jpg" | absolute_url }}" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />

    <script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "Person",
      "mainEntityOfPage": "https://pasztor.at/",
      "name": "Janos Pasztor",
      "givenName": "Janos",
      "familyName": "Pasztor",
      "gender": "Male",
      "jobTitle": "DevOps Engineer",
      "image": "{{ "/assets/avatar.jpg" | absolute_url }}",
      "address": {
        "@type":"PostalAddress",
        "streetAddress":"Graf-Starhemberg-Gasse 47/6",
        "postalCode":"1040",
        "addressLocality":"Wien",
        "addressCountry":"AT"
      },
      "memberOf": {
        "@type": "Organization",
        "name": "Opsbears",
        "legalName": "Opsbears e.U.",
        "logo": "{{ "/assets/img/opsbears-logo.svg" | absolute_url }}",
        "address": {
          "@type":"PostalAddress",
          "streetAddress":"Graf-Starhemberg-Gasse 47/6",
          "postalCode":"1040",
          "addressLocality":"Wien",
          "addressCountry":"AT"
        },
        "taxID": "FN 406446s",
        "vatID": "ATU68310348",
        "url":"https://www.opsbears.com",
        "mainEntityOfPage": "https://opsbears.com/",
        "sameAs": [
          "https://facebook.com/opsbears",
          "https://twitter.com/opsbears",
          "https://github.com/opsbears"
        ]
      },
      "url": "https://pasztor.at/",
      "sameAs": [
        "https://facebook.com/{{site.facebook_username}}",
        "https://twitter.com/{{site.twitter_username}}",
        "https://github.com/{{site.github_username}}",
        "https://www.linkedin.com/in/{{site.linkedin_username}}/"
      ]
    }
    </script>
  </head>
  <body>
    <header class="header">
      <a href="/" class="header__sitename">
        <img src="{% base64 /assets/avatar-64.jpg %}" alt="" class="header__avatar" />
        <span class="header__name">Janos Pasztor</span>
      </a>
      <div class="header__subscribe">
        <a href="https://facebook.com/janoszen" class="header__sociallink" target="_blank" >
          <img src="{% base64 /assets/img/facebook-round.svg %}" alt="Facebook" title="Follow me on Facebook" class="header__socialicon" />
        </a>
        <a href="https://twitter.com/janoszen" class="header__sociallink" target="_blank" >
          <img src="{% base64 /assets/img/twitter-round.svg %}" alt="Twitter" title="Follow me on Twitter" class="header__socialicon" />
        </a>
        <a href="https://github.com/janoszen" class="header__sociallink" target="_blank" >
          <img src="{% base64 /assets/img/github-round.svg %}" alt="GitHub" title="Visit me on GitHub" class="header__socialicon" />
        </a>
      </div>
    </header>

    <nav class="topmenu">
      {% assign current = '' %}
      {% if page.url == '/' %}
      {% assign current = 'topmenu__item--current' %}
      {% endif %}
      <a href="/" class="topmenu__item {{current}}">
        Home
      </a>

      {% assign current = '' %}
      {% if page.url == '/speaking' or page.url contains '/speaking/' %}
      {% assign current = 'topmenu__item--current' %}
      {% endif %}
      <a href="/speaking" class="topmenu__item {{current}}">
        Talks
      </a>

      {% assign current = '' %}
      {% if page.url == '/workshops' or page.url contains '/workshops/' %}
      {% assign current = 'topmenu__item--current' %}
      {% endif %}
      <a href="/workshops" class="topmenu__item {{current}}">
        Workshops
      </a>

      {% assign current = '' %}
      {% if page.url == '/blog' or page.url contains '/blog/' %}
      {% assign current = 'topmenu__item--current' %}
      {% endif %}
      <a href="/blog" class="topmenu__item {{current}}">
        Blog
      </a>

      {% assign current = '' %}
      {% if page.url == '/cv' %}
      {% assign current = 'topmenu__item--current' %}
      {% endif %}
      <a href="/cv" class="topmenu__item {{current}}">
        About me
      </a>

      {% assign current = '' %}
      {% if page.url == '/contact' %}
      {% assign current = 'topmenu__item--current' %}
      {% endif %}
      <a href="/contact" class="topmenu__item {{current}}">
        Contact
      </a>
    </nav>

    <main>
      {{ content }}
    </main>

    <footer class="footer">
      <div class="footer__copyright"><a href="/terms">Copyright &copy; Janos Pasztor</a></div>
      <div class="footer__links"><a href="/imprint">Imprint</a> &bull; <a href="/terms">Terms of Use</a> &bull; <a href="/privacy">Privacy Policy</a></div>
    </footer>

    <aside class="cookieconsent">
      <div class="cookieconsent__notification">
        <a href="#" class="cookieconsent__close">
          &times;
        </a>
        <div class="cookieconsent__notificationcontent">
          This site is using cookies for web analytics and is collecting server logs which contain your IP address. For details and privacy settings please visit <a href="/privacy">the privacy policy</a> (last changed February 7, 2018).
        </div>
      </div>
    </aside>

    <!--suppress JSReferencingMutableVariableFromClosure -->
    <script async type="application/javascript">
        var privacyPolicyVersion="February 7, 2018";

        function getCookie(cookieName) {
            var value = "; " + document.cookie;
            var parts = value.split("; " + cookieName + "=");
            if (parts.length > 1) return decodeURIComponent(parts.pop().split(";").shift());
        }

        function setCookie(cookieName, cookieValue, expiry) {
            var now = new Date();
            now.setTime(now.getTime() + expiry);
            var expires = "expires="+ now.toUTCString();
            document.cookie = cookieName + "=" + encodeURIComponent(cookieValue) + ";" + expires + ";path=/;domain=." + document.location.hostname;
            document.cookie = cookieName + "=" + encodeURIComponent(cookieValue) + ";" + expires + ";path=/;domain=" + document.location.hostname;
            document.cookie = cookieName + "=" + encodeURIComponent(cookieValue) + ";" + expires + ";path=/";
        }

        function deleteCookie(cookieName) {
            document.cookie = cookieName + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=' + document.location.hostname;
            document.cookie = cookieName + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=.' + document.location.hostname;
            document.cookie = cookieName + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/';
        }

        var cookieConsentShown = getCookie("cookieconsent-shown") || false;
        var blockAnalytics = getCookie("analytics-block") || false;

        var cookieConsentContainers = document.getElementsByClassName("cookieconsent");
        for (var i = 0; i < cookieConsentContainers.length; i++) {
            if (cookieConsentContainers.hasOwnProperty(i)) {
                var classList = cookieConsentContainers.item(i).classList;
                classList.add("cookieconsent--js");
                if (navigator.doNotTrack === '1') {
                    classList.add("cookieconsent--dnt");
                }
                if (blockAnalytics) {
                    classList.add("cookieconsent--blocked");
                } else {
                    classList.add("cookieconsent--notblocked");
                }
                if (cookieConsentShown === privacyPolicyVersion) {
                    classList.add("cookieconsent--shown");
                } else{
                    classList.add("cookieconsent--notshown");
                }
            }
        }

        var closeElements = document.getElementsByClassName("cookieconsent__close");
        for (var j = 0; j < closeElements.length; j++) {
            if (closeElements.hasOwnProperty(j)) {
                closeElements.item(j).addEventListener("click", function(e) {
                    e.preventDefault();
                    for (var k = 0; k < cookieConsentContainers.length; k++) {
                        var classList = cookieConsentContainers.item(k).classList;
                        classList.remove("cookieconsent--notshown");
                        classList.add("cookieconsent--shown");
                    }
                });
            }
        }


        var enableElements = document.getElementsByClassName("cookieconsent__enable");
        for (var j = 0; j < enableElements.length; j++) {
            if (enableElements.hasOwnProperty(j)) {
                enableElements.item(j).addEventListener("click", function(e) {
                    e.preventDefault();
                    for (var k = 0; k < cookieConsentContainers.length; k++) {
                        var classList = cookieConsentContainers.item(k).classList;
                        classList.remove("cookieconsent--blocked");
                        classList.add("cookieconsent--notblocked");
                        deleteCookie("analytics-block");
                    }
                });
            }
        }

        var disableElements = document.getElementsByClassName("cookieconsent__disable");
        for (var j = 0; j < disableElements.length; j++) {
            if (disableElements.hasOwnProperty(j)) {
                disableElements.item(j).addEventListener("click", function(e) {
                    e.preventDefault();
                    for (var k = 0; k < cookieConsentContainers.length; k++) {
                        var classList = cookieConsentContainers.item(k).classList;
                        classList.add("cookieconsent--blocked");
                        classList.remove("cookieconsent--notblocked");
                        setCookie("analytics-block", 1, 365*24*3600);
                        deleteCookie("_ga");
                        deleteCookie("_gid");
                        deleteCookie("_gat_gtag_UA_108462692_1");
                    }
                });
            }
        }

        setCookie("cookieconsent-shown", privacyPolicyVersion, 365*24*3600);

        if (navigator.doNotTrack !== '1' && !blockAnalytics) {
              window.dataLayer = window.dataLayer || [];

              function gtag() {
                  dataLayer.push(arguments);
              }

              gtag('js', new Date());

              gtag('config', 'UA-108462692-1', {'anonymize_ip': true});

              var scriptElement = document.createElement("script");
              scriptElement.setAttribute("async", "async");
              scriptElement.src = "https://www.googletagmanager.com/gtag/js?id=UA-108462692-1";
              document.body.appendChild(scriptElement);
        }

        if (blockAnalytics) {
            setCookie("analytics-block", 1, 365*24*3600);
        }
    </script>
  </body>
</html>
